<%- include('../includes/head.ejs') %>
</head>

<body>
  <%- include('../includes/navigation.ejs') %>
  <main>
    <div>
      <% if (user.name) { %>
        <div class='my-5'>
          <h1>Panoul utilizatorului</h1>
          <form class='my-4' action='/edit-username' method='POST'>
            <label class='d-block'>Schimbare nume utilizator</label>
            <input type="text" name='name' value='<%= user.name %>'>
            <button type='submit'>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
              </svg>
            </button>
          </form>
          <form class='my-4' action='/edit-email' method='POST'>
            <label class='d-block'>Schimbare email</label>
            <input type="email" name='email' value='<%= user.email %>'>
            <button type='submit'>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
              </svg>
            </button>
          </form>
          <form class='my-4' action='/edit-password' method='POST'>
            <label class='d-block'>Schimbare parolă</label>
            <input type="password" name='password' value='<%= user.password %>'>
            <button type='submit'>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
              </svg>
            </button>
          </form>
        </div>
        <div class='my-5'>
          <h3>Adaugă o adresă</h3>
          <form action='/add-user-address' method='post'>
            <div>
              <label for="country">Țara</label>
              <select name="country" id="country">
                <option value="RO">România</option>
              </select>
            </div>
            <div>
              <label for="state">Județ</label>
              <select name="state" id="state">
                <% states.forEach(state => { %>
                  <option value="<%= state.auto %>"><%= state.nume %></option>
                <% }) %>
              </select>
            </div>
            <div>
              <label for="city">Oraș</label>
              <select name="city" id="city">

              </select>
            </div>
          </form>
        </div>
        <% if (user.admin) { %>
        <div class='my-5'>
          <h2>Panoul administratorului</h2>
          <a href="/admin/add-product">Adaugă un nou produs</a>
        </div>
        <% } %>
      <% } else { %>
        <h1>Nu sunteți autentificat!</h1>
      <% } %>  
    </div>
  </main>
  <script src="/js/user-panel.js" type='module'></script>
  <%- include('../includes/end.ejs') %>